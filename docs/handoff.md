FretFlow í”„ë¡œì íŠ¸ í•¸ë“œì˜¤í”„ ë¬¸ì„œ

**ìµœì¢… ì—…ë°ì´íŠ¸: 2026-02-17**
**ìƒíƒœ: MVP ì™„ì„± (í•µì‹¬ í•™ìŠµ í”Œë¡œìš°, ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ, ë°°ì§€, ì˜¨ë³´ë”© ì™„ë£Œ)**

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

FretFlowëŠ” SM-2 ìŠ¤í˜ì´ìŠ¤ë“œ ë¦¬í”¼í‹°ì…˜ ì•Œê³ ë¦¬ì¦˜ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ê¸°íƒ€ ìŒì•… êµìœ¡ ëª¨ë°”ì¼ ì•±ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ê¸°íƒ€ í”„ë ›ë³´ë“œì˜ ìŒ ìœ„ì¹˜, ìŠ¤ì¼€ì¼ íŒ¨í„´, ê·€ í›ˆë ¨ì„ 3ê°œ ë…ë¦½ í•™ìŠµ íŠ¸ë™ìœ¼ë¡œ ììœ ë¡­ê²Œ í•™ìŠµí•˜ë©°, ê° íŠ¸ë™ë§ˆë‹¤ 4ë‹¨ê³„ í‹°ì–´ ì‹œìŠ¤í…œìœ¼ë¡œ ì ì§„ì  ë‚œì´ë„ ìƒìŠ¹ì„ ì œê³µí•©ë‹ˆë‹¤. Mix Modeë¡œ 3ê°œ íŠ¸ë™ì„ í•œ ì„¸ì…˜ì—ì„œ ë³µìŠµ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ê¸°ìˆ  ìŠ¤íƒ

**Runtime**: Expo 54.0.33 (React Native 0.76.6)
**ì–¸ì–´**: TypeScript 5.9 (strict mode)
**UI**: React Native (StyleSheet)
**ë¼ìš°íŒ…**: Expo Router 6.0 (íŒŒì¼ ê¸°ë°˜)
**ìƒíƒœê´€ë¦¬**: Zustand 5.0 (ì•± ì „ì—­ ìƒíƒœ), React Query 5.90 (API)
**ë¡œì»¬ì €ì¥ì†Œ**: MMKV (react-native-mmkv 3.3)
**ë°±ì—”ë“œ**: Supabase 2.95 (ì„¤ì •ë¨, ë¯¸í†µí•©)
**ì˜¤ë””ì˜¤**: expo-av (43ê°œ WAV íŒŒì¼)
**ë Œë”ë§**: react-native-svg, react-native-reanimated 3.16
**i18n**: i18next 25.8, react-i18next 16.5, expo-localization 17.0
**ë¦°íŒ…**: Biome 2.4 (import ì •ë ¬, ìŠ¤íƒ€ì¼ ì²´í¬)
**íƒ€ì…ì²´í¬**: TypeScript strict mode

---

## 2. í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ _layout.tsx           # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ (QueryClientProvider, StatusBar)
â”‚   â”œâ”€â”€ (tabs)/
â”‚   â”‚   â”œâ”€â”€ _layout.tsx       # íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ index.tsx         # í™ˆ í™”ë©´
â”‚   â”‚   â”œâ”€â”€ practice.tsx      # ì—°ìŠµ í™”ë©´
â”‚   â”‚   â”œâ”€â”€ mastery.tsx       # ë§ˆìŠ¤í„°ë¦¬ íƒ­ âœ… ì™„ì„±
â”‚   â”‚   â””â”€â”€ settings.tsx      # ì„¤ì • íƒ­ âœ… ì™„ì„±
â”‚   â”œâ”€â”€ onboarding/           # ì˜¨ë³´ë”© í”Œë¡œìš° (4ë‹¨ê³„) âœ…
â”‚   â”‚   â”œâ”€â”€ _layout.tsx       # ì˜¨ë³´ë”© ìŠ¤íƒ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ index.tsx         # í™˜ì˜ í™”ë©´
â”‚   â”‚   â”œâ”€â”€ mini-quiz.tsx     # ì‹¤ë ¥ í‰ê°€ ë¯¸ë‹ˆ í€´ì¦ˆ
â”‚   â”‚   â”œâ”€â”€ result.tsx        # í‰ê°€ ê²°ê³¼
â”‚   â”‚   â””â”€â”€ goal.tsx          # ì¼ì¼ ëª©í‘œ ì„¤ì •
â”‚   â”œâ”€â”€ quiz/
â”‚   â”‚   â”œâ”€â”€ _layout.tsx       # í€´ì¦ˆ ìŠ¤íƒ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ note.tsx          # ìŒ ìœ„ì¹˜ í€´ì¦ˆ
â”‚   â”‚   â”œâ”€â”€ scale.tsx         # ìŠ¤ì¼€ì¼ í€´ì¦ˆ
â”‚   â”‚   â”œâ”€â”€ ear.tsx           # ê·€ í›ˆë ¨
â”‚   â”‚   â”œâ”€â”€ mix.tsx           # Mix Mode (3ê°œ íŠ¸ë™ í˜¼í•©) âœ… ì™„ì„±
â”‚   â”‚   â””â”€â”€ completion.tsx    # í€´ì¦ˆ ì™„ë£Œ í™”ë©´
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Fretboard.tsx         # ì¬ì‚¬ìš© í”„ë ›ë³´ë“œ (TODO)
â”‚   â”œâ”€â”€ TabIcon.tsx           # íƒ­ ì•„ì´ì½˜ âœ… ì™„ì„±
â”‚   â”œâ”€â”€ quiz/
â”‚   â”‚   â”œâ”€â”€ QuizHeader.tsx    # í€´ì¦ˆ í—¤ë”
â”‚   â”‚   â”œâ”€â”€ AnswerGrid.tsx    # 4ì§€ì„ ë‹¤ ê·¸ë¦¬ë“œ
â”‚   â”‚   â””â”€â”€ QuizCard.tsx      # í€´ì¦ˆ ì¹´ë“œ ë˜í¼
â”‚   â”œâ”€â”€ progress/
â”‚   â”‚   â””â”€â”€ CircularProgress.tsx  # ì›í˜• í”„ë¡œê·¸ë ˆìŠ¤
â”‚   â””â”€â”€ icons/                # ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ routes.ts             # ë¼ìš°íŠ¸ ì •ì˜
â”‚   â”œâ”€â”€ tracks.ts             # íŠ¸ë™ ì„¤ì •
â”‚   â”œâ”€â”€ notePositionTiers.ts  # ìŒ ìœ„ì¹˜ í‹°ì–´ (4ë‹¨ê³„)
â”‚   â”œâ”€â”€ scaleTiers.ts         # ìŠ¤ì¼€ì¼ í‹°ì–´ (4ë‹¨ê³„)
â”‚   â””â”€â”€ earTrainingTiers.ts   # ê·€ í›ˆë ¨ í‹°ì–´
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useSpacedRepetition.ts  # SM-2 ì¹´ë“œ ê´€ë¦¬
â”‚   â”œâ”€â”€ useSmartRecommendation.ts  # ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ (due ì¹´ë“œ/ì§„í–‰ë¥  ê¸°ë°˜)
â”‚   â”œâ”€â”€ useQuizSession.ts       # í€´ì¦ˆ ì„¸ì…˜ ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ useEarTrainingAudio.ts  # ê·€ í›ˆë ¨ ì˜¤ë””ì˜¤ ì¬ìƒ
â”‚   â”œâ”€â”€ useGoalAchievement.ts   # ì¼ì¼ ëª©í‘œ ë‹¬ì„± ì¶”ì 
â”‚   â””â”€â”€ useNotifications.ts     # í‘¸ì‹œ ì•Œë¦¼ ì²˜ë¦¬
â”‚
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ useAppStore.ts        # Zustand ì „ì—­ ìƒíƒœ
â”‚
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ music.ts              # ìŒì•… íƒ€ì… (NoteName, FretPosition ë“±)
â”‚   â””â”€â”€ quiz.ts               # í€´ì¦ˆ íƒ€ì…
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ constants.ts          # ë””ìì¸ í† í° (ìƒ‰ìƒ, ê°„ê²©, í°íŠ¸)
â”‚   â”œâ”€â”€ music.ts              # ìŒ ê³„ì‚° ìœ í‹¸
â”‚   â”œâ”€â”€ sm2.ts                # SM-2 ì•Œê³ ë¦¬ì¦˜
â”‚   â”œâ”€â”€ storage.ts            # MMKV ì–´ëŒ‘í„°
â”‚   â”œâ”€â”€ cardGenerator.ts      # í‹°ì–´ ê¸°ë°˜ ë™ì  ì¹´ë“œ ìƒì„± âœ…
â”‚   â”œâ”€â”€ quizHelpers.ts        # í€´ì¦ˆ í—¬í¼ í•¨ìˆ˜
â”‚   â”œâ”€â”€ devTools.ts           # ê°œë°œì ëª¨ë“œ ìœ í‹¸ (í‹°ì–´ í…ŒìŠ¤íŠ¸)
â”‚   â””â”€â”€ earTrainingSounds.ts  # ì˜¤ë””ì˜¤ íŒŒì¼ ê´€ë¦¬
â”‚
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ index.ts              # i18n ì„¤ì •
â”‚   â””â”€â”€ locales/
â”‚       â”œâ”€â”€ en.json           # ì˜ì–´ ë²ˆì—­
â”‚       â””â”€â”€ ko.json           # í•œêµ­ì–´ ë²ˆì—­
â”‚
â””â”€â”€ api/
    â”œâ”€â”€ query-client.ts       # React Query ì„¤ì •
    â””â”€â”€ supabase.ts           # Supabase í´ë¼ì´ì–¸íŠ¸ (ë¯¸í†µí•©)
```

---

## 3. ë””ìì¸ ë ˆí¼ëŸ°ìŠ¤

**ìœ„ì¹˜**: `src/utils/constants.ts`

### ìƒ‰ìƒ íŒ”ë ˆíŠ¸

```typescript
COLORS = {
  bg: '#0D0D0F',              // ë°°ê²½
  surface: '#1A1A1F',          // ì¹´ë“œ, íŒ¨ë„
  border: '#2A2A30',           // í…Œë‘ë¦¬
  textPrimary: '#FFFFFF',      // ê¸°ë³¸ í…ìŠ¤íŠ¸
  textSecondary: '#8E8E93',    // ë³´ì¡° í…ìŠ¤íŠ¸

  // ë ˆë²¨ë³„ ìƒ‰ìƒ
  level1: '#4ADE80',           // ì´ˆë¡ (ìŒ ìœ„ì¹˜)
  level2: '#A78BFA',           // í¼í”Œ (ì¸í„°ë²Œ)
  level3: '#60A5FA',           // ë¸”ë£¨ (ìŠ¤ì¼€ì¼)
  level4: '#FB923C',           // ì˜¤ë Œì§€ (ê·€ í›ˆë ¨)

  // ìƒíƒœ ìƒ‰ìƒ
  correct: '#4ADE80',
  wrong: '#F87171',
  selected: '#A78BFA',
}
```

### ê°„ê²© (Spacing)

```typescript
SPACING = {
  xs: 4,
  sm: 8,
  md: 12,
  lg: 16,
  xl: 24,
  xxl: 32,
}
```

### í°íŠ¸ í¬ê¸°

```typescript
FONT_SIZE = {
  xs: 11,
  sm: 13,
  md: 15,
  lg: 17,
  xl: 20,
  xxl: 28,
  title: 34,
}
```

### í”„ë ›ë³´ë“œ ì„¤ì •

- 6í˜„, 24í”„ë ›
- í‘œì¤€ íŠœë‹: E-B-G-D-A-E (ì €ìŒâ†’ê³ ìŒ)
- ì¸ë ˆì´ ë§ˆì»¤: 3, 5, 7, 9, 12, 15, 17, 19, 21, 24 í”„ë ›
- ë”ë¸” ë§ˆì»¤: 12, 24 í”„ë ›

---

## 4. ì•„í‚¤í…ì²˜ ê²°ì •ì‚¬í•­

### ë¼ìš°íŒ…

- **Expo Router (file-based)**: `src/app/` ë””ë ‰í† ë¦¬ê°€ ìë™ìœ¼ë¡œ ë¼ìš°íŠ¸ ìƒì„±
- **íƒ­ ë„¤ë¹„ê²Œì´ì…˜**: `(tabs)` ê·¸ë£¹ìœ¼ë¡œ ë™ì‹œ ìŠ¤íƒ ìœ ì§€
- **í€´ì¦ˆ ë¼ìš°íŠ¸**: `/quiz/note`, `/quiz/scale`, `/quiz/ear`, `/quiz/mix`
- **ì˜¨ë³´ë”© ë¼ìš°íŠ¸**: `/onboarding`, `/onboarding/mini-quiz`, `/onboarding/result`, `/onboarding/goal`

### ìƒíƒœê´€ë¦¬

**Zustand (useAppStore)**:
- í™œì„± ë ˆë²¨
- ì˜¤ëŠ˜ì˜ í†µê³„ (ì¹´ë“œ ë³µìŠµ ìˆ˜, ì •ë‹µìˆ˜, ì—°ì†ì¼ìˆ˜)
- ì˜¨ë³´ë”© ìƒíƒœ

**React Query**:
- Supabase í†µí•© ì‹œ ì‚¬ìš© ì˜ˆì • (í˜„ì¬ ë¯¸ì‚¬ìš©)

**MMKV ë¡œì»¬ ì €ì¥ì†Œ**:
- flashcards IDë¡œ ëª¨ë“  ì¹´ë“œ ë°ì´í„° ì €ì¥
- ê°œë°œ/ì›¹ í™˜ê²½ì—ì„œëŠ” ì¸ë©”ëª¨ë¦¬ í´ë°±

### ìŠ¤í˜ì´ìŠ¤ë“œ ë¦¬í”¼í‹°ì…˜

**SM-2 ì•Œê³ ë¦¬ì¦˜ (`sm2.ts`)**:
- quality 0-5 ê¸°ë°˜ìœ¼ë¡œ EF(ease factor), interval ê³„ì‚°
- quality < 3ì´ë©´ ë¦¬ì…‹ (repetitions=0)
- quality â‰¥ 3ì´ë©´ ê°„ê²© 1 â†’ 6 â†’ interval*EF

**ì¹´ë“œ í›… (`useSpacedRepetition.ts`)**:
- `getDueCards()`: ì˜¤ëŠ˜ ë³µìŠµí•  ì¹´ë“œ í•„í„°ë§
- `addCard()`: ìƒˆ ì¹´ë“œ ì¶”ê°€ (ê¸°ë³¸ê°’: EF=2.5, interval=1, nextReviewDate=today)
- `recordReview()`: ë¦¬ë·° ê²°ê³¼ ê¸°ë¡ (responseTimeMs ê¸°ë°˜ quality ë§¤í•‘)

**ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ (`useSmartRecommendation.ts`)**:
- due ì¹´ë“œê°€ ê°€ì¥ ë§ì€ ëª¨ë“œë¥¼ ìš°ì„  ì¶”ì²œ
- due ì¹´ë“œ ì—†ìœ¼ë©´ ì§„í–‰ë¥ ì´ ê°€ì¥ ë‚®ì€ ëª¨ë“œ ì¶”ì²œ
- í™ˆ í™”ë©´ "ë³µìŠµ ì‹œì‘" CTAì— ì—°ê²°

**ê¸°ë³¸ê°’**:
- ì´ˆê¸° EF: 2.5
- ìµœì†Œ EF: 1.3
- ì´ˆê¸° interval: 1ì¼

### ì¹´ë“œ ìƒì„± & í‹°ì–´ ì‹œìŠ¤í…œ

**ë™ì  ì¹´ë“œ ìƒì„± (`cardGenerator.ts`)**:

```typescript
generateNoteCard(masteredCount)      // í‹°ì–´ë³„ í”„ë › ë²”ìœ„
generateScaleCard(masteredCount)     // í‹°ì–´ë³„ ìŠ¤ì¼€ì¼ íŒ¨í„´
generateEarCard(masteredCount)       // í‹°ì–´ë³„ ìŒì—­ í™•ì¥
```

**í‹°ì–´ ê¸°ë°˜ ë‚œì´ë„ ì‹œìŠ¤í…œ**:

ê° íŠ¸ë™ë§ˆë‹¤ ë§ˆìŠ¤í„° ì¹´ë“œ ìˆ˜ì— ë”°ë¼ 4ë‹¨ê³„ í‹°ì–´ê°€ ì–¸ë½ë©ë‹ˆë‹¤:

**ìŒ ìœ„ì¹˜ í‹°ì–´ (`notePositionTiers.ts`)**:
- Tier 1 (0ê°œ ë§ˆìŠ¤í„°): 0-5 í”„ë › (ì˜¤í”ˆ í¬ì§€ì…˜)
- Tier 2 (5ê°œ ë§ˆìŠ¤í„°): 0-12 í”„ë › (ì˜¥íƒ€ë¸Œê¹Œì§€)
- Tier 3 (15ê°œ ë§ˆìŠ¤í„°): 0-17 í”„ë › (í•˜ì´ í¬ì§€ì…˜)
- Tier 4 (30ê°œ ë§ˆìŠ¤í„°): 0-24 í”„ë › (ì „ì²´ í”„ë ›ë³´ë“œ)

**ìŠ¤ì¼€ì¼ í‹°ì–´ (`scaleTiers.ts`)**:
- Tier 1: Major, Minor Pentatonic
- Tier 2: Natural Minor, Blues
- Tier 3: Dorian, Mixolydian
- Tier 4: Phrygian, Lydian, Harmonic Minor

**ê·€ í›ˆë ¨ í‹°ì–´ (`earTrainingTiers.ts`)**:
- ë§ˆìŠ¤í„° ì¹´ë“œ ìˆ˜ì— ë”°ë¼ ì ì§„ì ìœ¼ë¡œ ìŒì—­ í™•ì¥

**MOCK_QUESTIONS ì™„ì „ ì œê±°ë¨** - ëª¨ë“  í€´ì¦ˆ í™”ë©´ì´ í‹°ì–´ ê¸°ë°˜ ë™ì  ìƒì„± ì‚¬ìš©

---

## 5. ì™„ì„±ëœ ê¸°ëŠ¥

### í™”ë©´ (ì™„ì„±)

**í™ˆ (`/(tabs)/index.tsx`)**
- DailyReviewCard: ì¼ì¼ ëª©í‘œ ì‹œê°í™” (í”„ë¡œê·¸ë ˆìŠ¤ ë°”, í¼ì„¼í‹°ì§€, ìƒ‰ìƒ ì½”ë”©, 100% ë‹¬ì„± ì‹œ ğŸ‰)
- ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ ê¸°ë°˜ "ë³µìŠµ ì‹œì‘" CTA (useSmartRecommendation ì—°ê²°)
- ì—°ì†ì¼ìˆ˜ (ìŠ¤íŠ¸ë¦­)
- ëª¨ë“œë³„ ì§„ë„ìœ¨ (ì›í˜• í”„ë¡œê·¸ë ˆìŠ¤, CircularProgress ê³µìœ )
- ëª¨ë“œë³„ ë°°ì§€ í‘œì‹œ
- ì²« ì‚¬ìš©ì / ë³µìŠµ ìˆìŒ / ë³µìŠµ ì™„ë£Œ 3ê°€ì§€ ë¹ˆ ìƒíƒœ ë¶„ê¸°

**ì˜¨ë³´ë”© (`/onboarding.tsx`) âœ…**
- 4ë‹¨ê³„: ì¸íŠ¸ë¡œ â†’ ë¯¸ë‹ˆí€´ì¦ˆ â†’ ê²°ê³¼ â†’ ëª©í‘œ ì„¤ì •
- ìŠ¤í‚µ ì˜µì…˜
- ì²« ì‹¤í–‰ ì‹œ ìë™ ë¼ìš°íŒ…

**ì—°ìŠµ (`/(tabs)/practice.tsx`)**
- 4ê°œ íŠ¸ë™ ì¹´ë“œë¡œ í¼ì¹¨ (expand/collapse)
- ê° íŠ¸ë™ë³„ ì˜ˆì‹œ ë¬¸ì œ í‘œì‹œ
- ì„¸ì…˜ í¬ê¸° ì˜µì…˜: Quick(10) / Focus(25) / Deep(50)
- **Mix Mode ë²„íŠ¼** âœ… - 4ê°œ íŠ¸ë™ì„ í•œ ì„¸ì…˜ì—ì„œ ì—°ìŠµ

**ë§ˆìŠ¤í„°ë¦¬ (`/(tabs)/mastery.tsx`) âœ… ì™„ì„± (382 lines)**
- ì „ì²´ í†µê³„ ì¹´ë“œ (ì „ì²´/ë§ˆìŠ¤í„°/ì•½ì  ì¹´ë“œ ìˆ˜)
- ë ˆë²¨ë³„ ë§ˆìŠ¤í„°ë¦¬ ê·¸ë¦¬ë“œ (ì›í˜• í”„ë¡œê·¸ë ˆìŠ¤)
- ì•½ì  ì¹´ë“œ ì„¹ì…˜ (ë ˆë²¨ë³„ ë¶„ë¥˜)
- i18n ì§€ì› ë° ì ‘ê·¼ì„± ë¼ë²¨

**ì„¤ì • (`/(tabs)/settings.tsx`) âœ… ì™„ì„±**
- í”„ë¡œí•„ ì„¹ì…˜ (ì‚¬ìš©ìëª…)
- í•™ìŠµ ëª©í‘œ ì„¤ì • (ì¼ì¼ ëª©í‘œ: 10/20/30/50 ì¹´ë“œ)
- ì•Œë¦¼ ì„¤ì • (í‘¸ì‹œ ì•Œë¦¼, ì‹œê°„ ì„¤ì •)
- ì ‘ê·¼ì„± ì˜µì…˜ (ì–¸ì–´ ì„ íƒ: í•œ/ì˜, ì§„ë™ í† ê¸€)
- **ê°œë°œì ëª¨ë“œ** âœ… - í‹°ì–´ í…ŒìŠ¤íŠ¸ìš© ë§ˆìŠ¤í„° ì¹´ë“œ ìˆ˜ ì¡°ì •
- ì•± ì •ë³´ (ë²„ì „, ë¼ì´ì„ ìŠ¤, ê°œë°œì)

**í€´ì¦ˆ - ìŒ ìœ„ì¹˜ (`/quiz/note.tsx`)**
- ë¯¸ë‹ˆ í”„ë ›ë³´ë“œ (4í”„ë › ìœˆë„ìš°, ì½ê¸° ì „ìš©)
- 4ì§€ì„ ë‹¤ ê·¸ë¦¬ë“œ
- ì •ë‹µ/ì˜¤ë‹µ í”¼ë“œë°± + ë‹¤ìŒ ë²„íŠ¼
- ë™ì  ì¹´ë“œ ìƒì„± (cardGenerator.ts)

**í€´ì¦ˆ - ìŠ¤ì¼€ì¼ (`/quiz/scale.tsx`)**
- ë‹¤ì¤‘ì„ íƒ í”„ë ›ë³´ë“œ
- ì‹¤ì‹œê°„ ì„ íƒ/í•´ì œ UI
- ì ìˆ˜ ê³„ì‚° (ì •ë‹µìˆ˜/ì˜¤ë‹µìˆ˜/ëˆ„ë½ìˆ˜)
- 80% ì´ìƒ í†µê³¼ íŒì •
- ë™ì  ì¹´ë“œ ìƒì„± (cardGenerator.ts)

**í€´ì¦ˆ - ê·€ í›ˆë ¨ (`/quiz/ear.tsx`) âœ…**
- ì¬ìƒ ë²„íŠ¼ (43ê°œ WAV ì˜¤ë””ì˜¤ íŒŒì¼)
- í‹°ì–´ ì§„í–‰ ì‹œìŠ¤í…œ (earTrainingTiers.ts)
- ë§ˆìŠ¤í„° ì¹´ë“œ ìˆ˜ì— ë”°ë¼ ì ì§„ì  ìŒì—­ í™•ì¥
- 4ì§€ì„ ë‹¤ + ê²°ê³¼ í”¼ë“œë°±
- ë™ì  ì¹´ë“œ ìƒì„± (cardGenerator.ts)

**í€´ì¦ˆ - Mix Mode (`/quiz/mix.tsx`) âœ… ì™„ì„±**
- 3ê°œ íŠ¸ë™ì„ í•œ ì„¸ì…˜ì—ì„œ í˜¼í•© ì—°ìŠµ
- ê° íŠ¸ë™ë³„ë¡œ ì¹´ë“œ ê· ë“± ë¶„ë°°
- ìŠ¤ë§ˆíŠ¸ ì…”í”Œë§ (3ê°œ ì´ìƒ ì—°ì† ë™ì¼ íŠ¸ë™ ë°©ì§€)
- íŠ¸ë™ë³„ ë°°ì§€ í‘œì‹œ ë° ìƒ‰ìƒ êµ¬ë¶„
- ê° íŠ¸ë™ì˜ ê³ ìœ  UI ë° ìƒí˜¸ì‘ìš© ë°©ì‹ ìœ ì§€

### ì»´í¬ë„ŒíŠ¸ (ì™„ì„±)

- **QuizHeader**: ë’¤ë¡œ, ëª¨ë“œ ë°°ì§€, ì§„ë„ë°”
- **AnswerGrid**: 4ì§€ì„ ë‹¤ ê·¸ë¦¬ë“œ
- **NextButton**: ì •ë‹µ(ì´ˆë¡)/ì˜¤ë‹µ(íšŒìƒ‰) ìŠ¤íƒ€ì¼
- **QuizCard**: ìƒíƒœë³„ í…Œë‘ë¦¬ ìƒ‰ìƒ
- **CircularProgress**: ì›í˜• í”„ë¡œê·¸ë ˆìŠ¤ (ëª¨ë“  í™”ë©´ì—ì„œ ê³µìœ )
- **DailyReviewCard**: ì¼ì¼ ëª©í‘œ ì‹œê°í™” (í”„ë¡œê·¸ë ˆìŠ¤ ë°”, ìƒ‰ìƒ ì½”ë”©)
- **TabIcon**: íƒ­ ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ âœ…

### ë°°ì§€ ì‹œìŠ¤í…œ âœ…

- 5ë‹¨ê³„: ğŸŒ± Beginner â†’ ğŸŒ¿ Familiar â†’ ğŸŒ³ Proficient â†’ ğŸ… Master
- ëª¨ë“œë³„ ë…ë¦½ ì¶”ì  (useAppStoreì— ì €ì¥)
- Mastery í™”ë©´, í™ˆ í™”ë©´, í€´ì¦ˆ ì™„ë£Œ í† ìŠ¤íŠ¸ì—ì„œ í‘œì‹œ
- ë°°ì§€ ë‹¬ì„± ì‹œ í–…í‹± í”¼ë“œë°± ë™ì‘

### ìœ í‹¸ & í›…

- **useSpacedRepetition**: SM-2 ì¹´ë“œ ë¡œì§ (ì¹´ë“œ CRUD, ë¦¬ë·° ê¸°ë¡)
- **useSmartRecommendation**: ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ (due ì¹´ë“œ / ì§„í–‰ë¥  ê¸°ë°˜ íŠ¸ë™ ì¶”ì²œ)
- **useQuizSession**: í€´ì¦ˆ ì„¸ì…˜ ìƒíƒœ ê´€ë¦¬ (ì§„í–‰ë¥ , ì •ë‹µìˆ˜ ì¶”ì )
- **useEarTrainingAudio**: ê·€ í›ˆë ¨ ì˜¤ë””ì˜¤ ì¬ìƒ ê´€ë¦¬
- **useGoalAchievement**: ì¼ì¼ ëª©í‘œ ë‹¬ì„± í† ìŠ¤íŠ¸
- **useNotifications**: í‘¸ì‹œ ì•Œë¦¼ ê¶Œí•œ ë° ìŠ¤ì¼€ì¤„ë§
- **sm2.ts**: SM-2 ì•Œê³ ë¦¬ì¦˜ ê³„ì‚°
- **music.ts**: ìŒ ê³„ì‚° (MIDI, ìœ„ì¹˜ ì°¾ê¸° ë“±)
- **constants.ts**: ëª¨ë“  ë””ìì¸ í† í°
- **cardGenerator.ts**: í‹°ì–´ ê¸°ë°˜ ë™ì  ì¹´ë“œ ìƒì„± âœ…
- **quizHelpers.ts**: í€´ì¦ˆ ê³µí†µ í—¬í¼ í•¨ìˆ˜
- **devTools.ts**: ê°œë°œì ëª¨ë“œ ìœ í‹¸ (í‹°ì–´ í…ŒìŠ¤íŠ¸ìš©)
- **earTrainingSounds.ts**: ì˜¤ë””ì˜¤ íŒŒì¼ ë§¤í•‘ ë° ê´€ë¦¬

### ë¼ìš°íŒ…

- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (í™ˆ/ì—°ìŠµ/ë§ˆìŠ¤í„°ë¦¬/ì„¤ì •)
- í€´ì¦ˆ ìŠ¤íƒ (4ê°œ ëª¨ë“œ: note/scale/ear/mix)
- ì˜¨ë³´ë”© í”Œë¡œìš° (ì²« ì‹¤í–‰ ì‹œ 4ë‹¨ê³„)

---

## 6. ë‚¨ì€ ì‘ì—… ìƒì„¸

### P2 â€” ì¶œì‹œ í›„ ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •

**ì• ë„ë¦¬í‹±ìŠ¤ ì¸í”„ë¼ êµ¬ì¶•**
- ì´ë²¤íŠ¸ íŠ¸ë˜í‚¹, ì„¸ì…˜ ê¸°ë¡, í¼ë„ ë¶„ì„ ì „ë¬´
- Mixpanel ë˜ëŠ” Amplitude ì—°ë™ í•„ìš”
- ìœ ì € í–‰ë™ ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„ í•„ìš”

**Ear Training ì¶”ê°€ íŒ¨í„´**
- í˜„ì¬: ë‹¨ì¼ ìŒ ë“£ê¸° (43ê°œ WAV íŒŒì¼, í‹°ì–´ ê¸°ë°˜ ì§„í–‰)
- í–¥í›„: ì½”ë“œ ë“£ê¸°, ë¦¬ë“¬ íŒ¨í„´ ë“± ì¶”ê°€ ê³ ë ¤

**ìˆ˜ìµí™” ëª¨ë¸ êµ¬í˜„**
- RevenueCat ì—°ë™ (êµ¬ë… ì‹œìŠ¤í…œ)
- Free/Pro ê¸°ëŠ¥ ê²Œì´íŒ…
- ê²°ì œ í”Œë¡œìš° êµ¬í˜„

### ê¸°ìˆ  ë¶€ì±„ & ê°œì„ ì‚¬í•­

**í€´ì¦ˆ ì¤‘ë‹¨ í™•ì¸ ëª¨ë‹¬**
- QuizHeader.tsxì˜ ë’¤ë¡œ ë²„íŠ¼ì´ `router.back()` ì§ì ‘ í˜¸ì¶œ
- `Alert.alert()` í™•ì¸ ë˜ëŠ” `beforeRemove` ë¦¬ìŠ¤ë„ˆ í•„ìš”

**ì—ëŸ¬ ë°”ìš´ë”ë¦¬ ì¶”ê°€**
- ì•± ì–´ë””ì—ë„ ErrorBoundary ì—†ìŒ
- ê¸€ë¡œë²Œ ì—ëŸ¬ ë°”ìš´ë”ë¦¬ + í´ë°± UI í•„ìš”

**ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±**
- `.test.ts`, `.spec.ts`, `__tests__/` ì „ë¬´
- SM-2, ì¹´ë“œ ìƒì„±, ì§„ë„ ê³„ì‚° í•µì‹¬ ë¡œì§ í…ŒìŠ¤íŠ¸ í•„ìš”

**ì¬ì‚¬ìš© í”„ë ›ë³´ë“œ ì»´í¬ë„ŒíŠ¸**
- ê° í€´ì¦ˆ í™”ë©´ì— í”„ë ›ë³´ë“œ ì½”ë“œ ì¤‘ë³µ â†’ í†µí•© ì»´í¬ë„ŒíŠ¸ í•„ìš”

**í€´ì¦ˆ ì •ë‹µ/ì˜¤ë‹µ í–…í‹± í”¼ë“œë°±**
- ë°°ì§€ ë‹¬ì„± ì‹œ í–…í‹±ì€ ë™ì‘í•˜ì§€ë§Œ, í€´ì¦ˆ ì •ë‹µ/ì˜¤ë‹µ ì‹œ í–…í‹± ì—†ìŒ

**Supabase í´ë¼ìš°ë“œ ë™ê¸°í™”**
- í´ë¼ì´ì–¸íŠ¸ ì„¤ì •ë§Œ ìˆìŒ (`api/supabase.ts`)
- ì¹´ë“œ ë°ì´í„° ë°±ì—…, ê¸°ê¸° ê°„ ì´ì „ í•„ìš”

**Dead Supabase ì½”ë“œ ì •ë¦¬**
- MMKVë¡œ ì™„ì „ ì´ì „í–ˆì§€ë§Œ import ì°¸ì¡°ê°€ ë‚¨ì•„ ìˆìŒ

---

## 7. í•µì‹¬ ê·œì¹™ & ê·œì•½

### UI ì–¸ì–´

- **ëª¨ë“  UI í…ìŠ¤íŠ¸**: í•œê¸€ (ì‚¬ìš©ì ëŒ€ë©´)
- **ë³€ìˆ˜ëª…, í•¨ìˆ˜ëª…, ì£¼ì„**: ì˜ë¬¸ (ì½”ë“œ ê°€ë…ì„±)

### ë””ìì¸ í† í° ì‚¬ìš©

- **ìƒ‰ìƒ/ê°„ê²©/í°íŠ¸**: ë°˜ë“œì‹œ `COLORS`, `SPACING`, `FONT_SIZE`ì—ì„œ ì°¸ì¡°
- **í•˜ë“œì½”ë”©ëœ ê°’ ê¸ˆì§€**: ì¼ê´€ì„± í™•ë³´

### Biome ë¦°íŒ…

```bash
npm run lint          # ì²´í¬ ì „ìš©
npm run lint:fix      # ìë™ ìˆ˜ì •
npm run format        # í¬ë§¤íŒ…
```

**ê·œì¹™**:
- import ì •ë ¬ (organize)
- ì„¸ë¯¸ì½œë¡  í•„ìˆ˜
- trailing commas
- ë¼ì¸ ë„ˆë¹„: 100ì
- íƒ­ ë„ˆë¹„: 2ì

### StyleSheet íŒ¨í„´

```typescript
const s = StyleSheet.create({
  /* ëª¨ë“  ìŠ¤íƒ€ì¼ */
});
```

ëª¨ë“  ìŠ¤íƒ€ì¼ì€ í•˜ë‹¨ì— `s` ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ ì§‘ê³„

### ì»´í¬ë„ŒíŠ¸ íŒ¨í„´

```typescript
export default function QuizScreen() {
  const [currentIdx, setCurrentIdx] = useState(0);
  const [state, setState] = useState<QuizState>('question');

  // ì»´í¬ë„ŒíŠ¸ ë¡œì§

  return (
    <View style={s.container}>
      {/* JSX */}
    </View>
  );
}

const s = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: COLORS.bg,
  },
});
```

### SM-2 ê¸°ë³¸ê°’

- ì´ˆê¸° EF: 2.5
- ìµœì†Œ EF: 1.3
- ì´ˆê¸° interval: 1ì¼

---

## 8. ê°œë°œ ëª…ë ¹ì–´

### ì„¤ì¹˜ & ì‹¤í–‰

```bash
npm install
npm start             # Expo ê°œë°œ ì„œë²„ ì‹œì‘
npm run android       # Android ì—ë®¬ë ˆì´í„°
npm run ios           # iOS ì‹œë®¬ë ˆì´í„°
npm run web           # ì›¹ ë¸Œë¼ìš°ì €
```

### í’ˆì§ˆ ê´€ë¦¬

```bash
npm run lint          # Biome ë¦°íŠ¸ ì²´í¬
npm run lint:fix      # ìë™ ìˆ˜ì •
npm run format        # í¬ë§¤íŒ…
npm run typecheck     # TypeScript íƒ€ì… ì²´í¬
```

---

## 9. ì£¼ìš” íŒŒì¼ë³„ ì±…ì„

| íŒŒì¼ | ì±…ì„ |
|------|------|
| `app/_layout.tsx` | QueryClient ì´ˆê¸°í™”, ìƒíƒœë°” ìŠ¤íƒ€ì¼ |
| `app/(tabs)/_layout.tsx` | íƒ­ ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì¡° |
| `app/(tabs)/index.tsx` | í™ˆ í™”ë©´: ë³µìŠµ ì¹´ë“œ, ë ˆë²¨ë³„ ì§„ë„ |
| `app/(tabs)/practice.tsx` | ì—°ìŠµ í™”ë©´: ë ˆë²¨ë³„ ì„¸ì…˜ |
| `app/(tabs)/mastery.tsx` | ë§ˆìŠ¤í„°ë¦¬ í™”ë©´: í†µê³„, ì•½ì  ë¶„ì„ âœ… |
| `app/(tabs)/settings.tsx` | ì„¤ì • í™”ë©´: í”„ë¡œí•„, í•™ìŠµ ëª©í‘œ, ì ‘ê·¼ì„± âœ… |
| `app/quiz/*.tsx` | ê° ë ˆë²¨ í€´ì¦ˆ (ìŒ/ì¸í„°ë²Œ/ìŠ¤ì¼€ì¼/ê·€) |
| `hooks/useSpacedRepetition.ts` | SM-2 ì¹´ë“œ CRUD & ë¦¬ë·° ë¡œì§ |
| `hooks/useSmartRecommendation.ts` | ìŠ¤ë§ˆíŠ¸ ëª¨ë“œ ì¶”ì²œ (due ì¹´ë“œ/ì§„í–‰ë¥  ê¸°ë°˜) |
| `stores/useAppStore.ts` | ì „ì—­ ìƒíƒœ (ë ˆë²¨, í†µê³„) |
| `utils/constants.ts` | ëª¨ë“  ë””ìì¸ í† í° |
| `utils/music.ts` | ìŒ ê³„ì‚° (MIDI, ìœ„ì¹˜, ì¸í„°ë²Œ) |
| `utils/sm2.ts` | SM-2 ì•Œê³ ë¦¬ì¦˜ |
| `utils/storage.ts` | MMKV ì–´ëŒ‘í„° |
| `utils/cardGenerator.ts` | ë™ì  ì¹´ë“œ ìƒì„± âœ… |
| `types/music.ts` | íƒ€ì… ì •ì˜ |
| `types/quiz.ts` | í€´ì¦ˆ íƒ€ì… |
| `components/quiz/*.tsx` | í€´ì¦ˆ ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸ |
| `i18n/` | êµ­ì œí™” ì„¤ì • |

---

## 10. ë‹¤ìŒ ë‹¨ê³„ (ì‹ ì… ê°œë°œììš© ì²´í¬ë¦¬ìŠ¤íŠ¸)

### Phase 1: í™˜ê²½ ì´í•´

- [ ] ì½”ë“œë² ì´ìŠ¤ ì „ì²´ ì½ê¸° (í™ˆ/ì—°ìŠµ/ë§ˆìŠ¤í„°ë¦¬/ì„¤ì •, í€´ì¦ˆ 4ê°œ ëª¨ë“œ)
- [ ] Expo Router ë¬¸ì„œ (íƒ­/ìŠ¤íƒ) ì½ê¸°
- [ ] SM-2 ì•Œê³ ë¦¬ì¦˜ ì´í•´ (`sm2.ts` + `useSpacedRepetition.ts`)
- [ ] ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ ë¡œì§ ì´í•´ (`useSmartRecommendation.ts`)
- [ ] ë°°ì§€ ì‹œìŠ¤í…œ ì´í•´ (useAppStore ë‚´ badge ê´€ë ¨ ë¡œì§)
- [ ] `npm run lint` / `npm run typecheck` ì‹¤í–‰ í™•ì¸

### Phase 2: í’ˆì§ˆ ê°œì„ 

- [ ] í€´ì¦ˆ ì¤‘ë‹¨ í™•ì¸ ëª¨ë‹¬ ì¶”ê°€ (QuizHeader.tsx)
- [ ] ì—ëŸ¬ ë°”ìš´ë”ë¦¬ ì¶”ê°€ (ê¸€ë¡œë²Œ + í´ë°± UI)
- [ ] SM-2 / ì¹´ë“œ ìƒì„± / ì§„ë„ ê³„ì‚° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] í€´ì¦ˆ ì •ë‹µ/ì˜¤ë‹µ í–…í‹± í”¼ë“œë°± ì¶”ê°€
- [ ] ì¬ì‚¬ìš© í”„ë ›ë³´ë“œ ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§

### Phase 3: ë°ì´í„° & ì¸í”„ë¼ (P2)

- [ ] ì• ë„ë¦¬í‹±ìŠ¤ ì—°ë™ (Mixpanel/Amplitude)
- [ ] Ear Training ì¶”ê°€ íŒ¨í„´ (ì¸í„°ë²Œ, ì½”ë“œ ë“£ê¸°)
- [ ] Supabase í´ë¼ìš°ë“œ ë™ê¸°í™”
- [ ] í•™ìŠµ ë¶„ì„ ì¸ì‚¬ì´íŠ¸ (ì¼ë³„/ì£¼ë³„ íŠ¸ë Œë“œ, ì •ë‹µë¥  ë³€í™”)

### Phase 4: ìˆ˜ìµí™” (P2)

- [ ] RevenueCat ì—°ë™ (êµ¬ë… ì‹œìŠ¤í…œ)
- [ ] Free/Pro ê¸°ëŠ¥ ê²Œì´íŒ…
- [ ] ê²°ì œ í”Œë¡œìš° UI/UX
- [ ] ì•± ìŠ¤í† ì–´ ì‹¬ì‚¬ ì¤€ë¹„

---

## 11. ê°œë°œ íŒ

### í”„ë ›ë³´ë“œ ì¢Œí‘œ ë³€í™˜

```typescript
// SVG ì¢Œí‘œ
const cx = padX + (fret - startFret) * fretW;
const cy = padY + string * stringH;
```

### ì¹´ë“œ ìƒì„±

- `cardGenerator.ts`ì˜ `generateCardBatch()` ì‚¬ìš©
- ì„¸ì…˜ í¬ê¸°(10ë¬¸ì œ)ë§Œí¼ ìë™ ìƒì„±
- ê¸°ì¡´ êµ¬ì¡° ìœ ì§€

### ìŠ¤íƒ€ì¼ ì¶”ê°€ ì‹œ

- ìˆ«ìê°’ â†’ `SPACING`, `FONT_SIZE` ì°¸ì¡°
- ìƒ‰ìƒ â†’ `COLORS` ì°¸ì¡°
- `StyleSheet.create({ ... })` ë‚´ë¶€ì—ë§Œ ì •ì˜

### i18n ì¶”ê°€

- `i18n/locales/en.json`, `ko.json`ì— í‚¤ ì¶”ê°€
- ì»´í¬ë„ŒíŠ¸ì—ì„œ `useTranslation()` í›… ì‚¬ìš©

---

## 12. Troubleshooting

### MMKV not loading
`utils/storage.ts` - ìë™ìœ¼ë¡œ ì¸ë©”ëª¨ë¦¬ í´ë°±ë¨

### Navigation issues
`app/` íŒŒì¼ êµ¬ì¡°ê°€ ë¼ìš°íŠ¸ ê¸°ëŒ€ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸. `expo-router` CLIë¡œ ë””ë²„ê¹….

### Type errors
`npm run typecheck`ë¡œ ëª¨ë“  ì—ëŸ¬ í™•ì¸. Biome ë¦°íŒ…ì€ ì¼ë¶€ TS ì´ìŠˆë¥¼ ë†“ì¹  ìˆ˜ ìˆìŒ.

### i18n not working
`i18n/index.ts`ê°€ `app/_layout.tsx`ì—ì„œ ì´ˆê¸°í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸.

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-02-17
**ìƒíƒœ**: MVP ì™„ì„± (í•µì‹¬ í•™ìŠµ í”Œë¡œìš°, ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ, ë°°ì§€, ì˜¨ë³´ë”©, ì¼ì¼ ëª©í‘œ ì‹œê°í™” ì™„ë£Œ)
**í•œê¸€ UI + ì˜ë¬¸ ì½”ë“œ**
**êµì°¨ê²€ì¦ ì™„ë£Œ**: 2026-02-17 (ì½”ë“œë² ì´ìŠ¤ ì§ì ‘ ëŒ€ì¡° í›„ ì—…ë°ì´íŠ¸)

ë” ìì„¸í•œ ê°œë°œ ê°€ì´ë“œëŠ” `DEVELOPMENT.md` ì°¸ì¡°.
